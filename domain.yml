version: '2.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false
intents:
- greet
- goodbye
- affirm
- deny
- bot_challenge
- inform
- thankyou
- out_of_scope
- learn_more
entities:
- exercise
- sleep
- stress
- color
- flavor
slots:
  confirm_suggestion:
    type: any
    influence_conversation: false
  color:
    type: any
    influence_conversation: false
  flavor:
    type: any
    influence_conversation: false

responses:
  utter_greet:
  - text: Hi! I am WiLo, Wine Lover! How is your day?
  utter_expert_suggest:
  - text: I am excited because i discover a very interesting wine! It's Moscato D'asti!You should try it. It's white sparkling wine. Are you satisfied with this choice or do you want to try another according to your taste?  
  utter_final_choice_001: 
  - text: Moscato D'asti is a very good choice, fits great with mascarpone with strawberry. Would you like anything else? #yes or no
  utter_question_for_more_details:
  - text: Would you like me to advise you on accompaniments and give you more details about the wine?
  utter_more_details_001:
  - text: Contains 5% Alcohol. Light sweets with vivid aroma, airy, with gentle foaming and refreshing acidity that leads to a fresh and refreshing finish. It fits great with light mousse, mascarpone with strawberry, even a very light milk chocolate mousse, panna cotta with honey and rose water. A style of wine that Greeks have loved in one of its most premium versions. With the highest distinction in the famous Italian driver Gamberro Rosso, the Moscato d' Asti Tenuta del Fant will captivate you with the crystal clear aromatic character of Muscat and the fantastic balance it has in the mouth. Just seductive...
  utter_goodbye:
  - text: It was my pleasure meeting you. I am here if you want to explore the marvelous world of wine. See you again soon!
  utter_iamabot:
  - text: I am a bot and I'm an expert in the world of Wines. My name is WiLo.
  utter_ask_taste:
  - text: Give me the color and flavor please ?
 # utter_ask_flavor:
 # - text: flavor ?
  utter_slots_values:
  - text: |-
      Here's your wine log:
       - Accepting expert's suggetion?: {confirm_suggestion}
       - Color: {color}
       - Flavor: {flavor}

  utter_ask_continue:
  - text: Sorry, I don't quite understand. Do you want to continue?
actions:
- action_submit_results
- validate_wine_form
forms:
  wine_form:
    required_slots:
      confirm_suggestion:
      - type: from_intent
        intent: affirm
        value: true
      - type: from_intent
        intent: deny
        value: false
      color:
      - type: from_entity
        entity: color  
      flavor:
      - type: from_entity
        entity: flavor  
