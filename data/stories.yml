version: "2.0"
stories:

- story: survey happy path_1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: positive
  - action: utter_expert_suggest
#  - intent: affirm
#  - action: utter_expert_choice
#  - intent: learn_more
#  - action: utter_expert_choice_more
#  - intent: thankyou
#  - action: utter_goodbye

- story: survey happy path_2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: positive
  - action: utter_expert_suggest
  - intent: deny
  - action: utter_ask_taste
  - action: wine_form
  - active_loop: wine_form
  - action: utter_final_choice
  - intent: learn_more
  - action: utter_final_choice_more
  - intent: thankyou
  - action: utter_goodbye

- story: survey sad path_1 # Change from Sad to Better mood
  steps:
  - intent: greet
  - action: utter_greet
  - intent: negative
  - action: utter_joke
  - intent: affirm #positive intent
  - action: utter_expert_suggest
  - intent: deny
  - action: utter_ask_taste
  - action: wine_form
  - active_loop: wine_form
  - action: utter_final_choice
  - intent: learn_more
  - action: utter_final_choice_more
  - intent: thankyou
  - action: utter_goodbye

- story: survey sad path_2 # Change from Sad to Better mood
  steps:
  - intent: greet
  - action: utter_greet
  - intent: negative
  - action: utter_joke
  - intent: affirm #positive intent
  - action: utter_expert_suggest
  - intent: affirm
  - action: utter_expert_choice
  - intent: learn_more
  - action: utter_expert_choice_more
  - intent: thankyou
  - action: utter_goodbye

- story: survey sad path_3 # Staying in bad mood
  steps:
  - intent: greet
  - action: utter_greet
  - intent: negative
  - action: utter_joke
  - intent: deny
  - action: utter_ask_taste
  - action: wine_form
  - active_loop: wine_form
  - action: utter_final_choice
  - intent: learn_more
  - action: utter_final_choice_more
  - intent: thankyou
  - action: utter_goodbye

- story: survey hurry path # Doesn't want to make small talk
  steps:
  - intent: greet
  - action: utter_greet
  - intent: indifferent
  - action: utter_ask_taste
  - action: wine_form
  - active_loop: wine_form
  - action: utter_final_choice
  - intent: learn_more
  - action: utter_final_choice_more
  - intent: thankyou
  - action: utter_goodbye

- story: survey wine form stop
  steps:
  - intent: greet
  - action: utter_greet
  - intent: positive
  - action: utter_expert_suggest
  - intent: deny
  - action: utter_ask_taste
  - action: wine_form
  - active_loop: wine_form
  - intent: out_of_scope
  - action: utter_ask_continue
  - intent: deny
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_goodbye

- story: survey wine form continue
  steps:
  - intent: greet
  - action: utter_greet
  - intent: positive
  - action: utter_expert_suggest
  - intent: deny
  - action: utter_ask_taste
  - action: wine_form
  - active_loop: wine_form
  - intent: out_of_scope
  - action: utter_ask_continue
  - intent: affirm
  - action: utter_ask_taste
  - action: wine_form

- story: no interaction
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye